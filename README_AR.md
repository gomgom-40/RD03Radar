# ููุชุจุฉ RD03Radar ูู Arduino IDE

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/Version-1.0.0-blue.svg)](https://github.com/gomgom-40/RD03Radar)
[![ESP32](https://img.shields.io/badge/ESP32-Supported-green.svg)](https://www.espressif.com/en/products/som/esp32)
[![ESP8266](https://img.shields.io/badge/ESP8266-Supported-green.svg)](https://github.com/esp8266/Arduino)
[![Arduino](https://img.shields.io/badge/Arduino-Compatible-blue.svg)](https://www.arduino.cc/)

## ๐ ูุธุฑุฉ ุนุงูุฉ

**RD03Radar** ูู ููุชุจุฉ ุดุงููุฉ ูู Arduino IDE ูุตููุฉ ููุนูู ูุน ุญุณุงุณ ุฑุงุฏุงุฑ Ai-Thinker RD-03 ุจุฏูุฉ 24GHz. ุญููู ุญุณุงุณ ุฑุงุฏุงุฑ ุจู 5 ุฏููุงุฑ ุฅูู ูุธุงู ูุดู ุญุถูุฑ ุฐูู ูุน ูุดู ุงูุญุฑูุฉ ุงููุจูู ุนูู ุงูุฏุฎููุ ูุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุฅุถุงุกุฉุ ูุญูุงูุฉ ูุชูุฏูุฉ ูู ุงูุฃุนุทุงู.

**ูุซุงููุฉ ููููุงุฒู ุงูุฐููุฉุ ุฃูุธูุฉ ุงูุฃูุงูุ ููุดุงุฑูุน ุฅูุชุฑูุช ุงูุฃุดูุงุก!** ๐๐ค

### โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

| ๐ **ูุดู ุฐูู** | ๐๏ธ **ุชูููู ูุงูู** | ๐ก๏ธ **ููุซูููุฉ ูุถูููุฉ** |
|----------------|-------------------|----------------------|
| ูุดู ุงูุญุฑูุฉ ุงููุจูู ุนูู ุงูุฏุฎูู | ูุทุงู ูุงุจู ููุชุนุฏูู (20-600ุณู) | ุญูุงูุฉ ูุชูุฏูุฉ ูู ุงูุฃุนุทุงู |
| ูุฑุงูุจุฉ ุงููุณุงูุฉ ูู ุงูููุช ุงููุนูู | ูุณุชููุงุช ุญุณุงุณูุฉ (1-5) | ุงุณุชุฑุฏุงุฏ ุชููุงุฆู ูู ุงูุฃุฎุทุงุก |
| ุฎูุงุฑุฒููุงุช ูุดู ูุชุนุฏุฏุฉ | ูููุงุช ูุงุจูุฉ ููุชุฎุตูุต | ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุชุดุฎูุต |

| ๐ **ุชุญูู ูุฑู** | ๐ก **ุฌุงูุฒ ููุฅูุชุฑูุช** | ๐ **ุณูู ูููุทูุฑ** |
|-----------------|---------------------|-------------------|
| ุฃูุถุงุน ุชููุงุฆูุฉุ ูุฏููุฉุ ุฅุฌุจุงุฑูุฉ | ูุนูุงุฑูุฉ ูุจููุฉ ุนูู ุงูุงุณุชุฏุนุงุกุงุช | ุชูุงูู ุณูู ูุน Arduino |
| ุชูุงูู ุงูุชุญูู ูู ุงูุฅุถุงุกุฉ | ุจุฑูุฌุฉ ูุฏููุนุฉ ุจุงูุฃุญุฏุงุซ | ุชูุซูู ุดุงูู |
| ุญูุงูุฉ ูููุฉ ุงูุฃูุงู | ุฏุนู ูุชุนุฏุฏ ุงูููุตุงุช | ููุชูุญ ุงููุตุฏุฑ ุจุฑุฎุตุฉ MIT |

### ๐ฏ **ูุซุงููุฉ ูู:**
- ๐ **ุฃุชูุชุฉ ุงูููุฒู ุงูุฐูู** - ุฃุถูุงุก ุงูุญูุงูุ ุฃูุธูุฉ ุงูุฃูุงู
- ๐ **ุฃูุธูุฉ ุงูุฃูุงู** - ูุดู ุงููุชุณููููุ ุชูุจููุงุช ุงูุญุฑูุฉ
- ๐ก **ุงูุชุญูู ูู ุงูุฅุถุงุกุฉ** - ุฅุถุงุกุฉ ุงูุบุฑู ุงูุชููุงุฆูุฉ
- ๐ค **ูุดุงุฑูุน IoT** - ุชุทุจููุงุช ูุฎุตุตุฉ ูุจููุฉ ุนูู ุงูุญุถูุฑ
- ๐ญ **ุงูุตูุงุนู** - ูุดู ุงููุฌูุฏุ ุงูุฃุชูุชุฉ

---

## โก ุงูุจุฏุก ุงูุณุฑูุน (5 ุฏูุงุฆู!)

### **ุงูุฎุทูุฉ 1: ุชุซุจูุช ุงูููุชุจุฉ**
```bash
# Arduino IDE (ููุตู ุจูุง)
1. Sketch โ Include Library โ Manage Libraries
2. ุงุจุญุซ ุนู "RD03Radar" โ Install

# ุฃู ุญูู ZIP ูุซุจุช ูุฏููุงู
```

### **ุงูุฎุทูุฉ 2: ุชูุตูู ุงูุฃุฌูุฒุฉ**
```
ESP32 / ESP8266   RD-03 Radar       LED
----------------  -----------       ---
GPIO16/12 โโโโโโ TX
GPIO17/14 โโโโโโ RX
GND โโโโโโโโโโโโ GND
5V โโโโโโโโโโโโโ VCC
GPIO2 โโโโโโโโโโ LED+ (ุงุฎุชูุงุฑู)
```

### **ุงูุฎุทูุฉ 3: ุฑูุน ุงูููุฏ**
```cpp
#include <RD03Radar.h>

RD03Radar radar(Serial2, radarConfig);

void onPresenceChange(RD03PresenceState state, float distance) {
    if (state == RD03PresenceState::PRESENCE_DETECTED) {
        digitalWrite(LED_BUILTIN, HIGH);  // ุชุดุบูู ุงูุถูุก
        Serial.println("ุชู ูุดู ุญุถูุฑ!");
    } else {
        digitalWrite(LED_BUILTIN, LOW);   // ุฅููุงู ุงูุถูุก
        Serial.println("ูุง ุญุถูุฑ");
    }
}

void setup() {
    pinMode(LED_BUILTIN, OUTPUT);
    Serial.begin(115200);
    radar.onPresenceChange(onPresenceChange);
    radar.begin(16, 17);
}

void loop() {
    radar.loop();
}
```

**๐ ุชู! ูุงุดู ุงูุญุถูุฑ ุงูุฐูู ุฌุงูุฒ!**

---

## ๐ฆ ุงูุชุซุจูุช (ููุตู)

### ุงูุทุฑููุฉ 1: ูุฏูุฑ ููุชุจุงุช Arduino IDE (ููุตู ุจูุง)

1. ุงูุชุญ Arduino IDE
2. ุงุฐูุจ ุฅูู **Sketch** โ **Include Library** โ **Manage Libraries**
3. ุงุจุญุซ ุนู "RD03Radar"
4. ุงุถุบุท **Install**

### ุงูุทุฑููุฉ 2: ุงูุชุซุจูุช ุงููุฏูู

1. ุญูู `RD03Radar_FINAL.zip` ูู [GitHub Releases](https://github.com/gomgom-40/RD03Radar/releases)
2. ุงูุชุญ Arduino IDE
3. ุงุฐูุจ ุฅูู **Sketch** โ **Include Library** โ **Add .ZIP Library**
4. ุงุฎุชุฑ ุงูููู ุงููุญูู

---

## ๐ง ูุชุทูุจุงุช ุงูุฃุฌูุฒุฉ

| ุงููููู | ุงูููุงุตูุงุช | ุงูุชูููุฉ |
|--------|------------|---------|
| **ุงููุชุญูู ุงูุฏููู** | ESP32ุ ESP8266ุ ุฃู Arduino ูุน UART | 5-15 ุฏููุงุฑ |
| **ุญุณุงุณ RD-03** | ุญุณุงุณ ุฑุงุฏุงุฑ Ai-Thinker RD-03 ุจุฏูุฉ 24GHz | 5 ุฏููุงุฑ |
| **ูุตุฏุฑ ุงูุทุงูุฉ** | ูุญูู USB ุฃู DC ุจู 5V/1A | 2-3 ุฏููุงุฑ |
| **ุชุฑุญูู ุงุฎุชูุงุฑู** | ููุชุญูู ูู ุงูุฃุถูุงุก/ุงูุฃุฌูุฒุฉ | 1-2 ุฏููุงุฑ |

### ุชูุตูู ESP32:
```
ESP32          RD-03 Radar
-----          -----------
GPIO17 โโโโโโ TX
GPIO16 โโโโโโ RX
GND โโโโโโโโโ GND
5V โโโโโโโโโโ VCC
```

### ุชูุตูู ESP8266:
```
ESP8266        RD-03 Radar
-------        -----------
GPIO14 (D5) โโ TX
GPIO12 (D6) โโ RX
GND โโโโโโโโโโ GND
5V โโโโโโโโโโโ VCC
```

---

## ๐ ูุฑุฌุน API

### ุงูููุงุณ: RD03Radar

#### ุงูููุดุฆ
```cpp
RD03Radar(HardwareSerial& serial, const RD03Config& config = RD03Config());
```

#### ุงูุชููุฆุฉ
```cpp
bool begin(int rxPin, int txPin);  // ESP32 ูุน ูุฎุงุฑุฌ ูุญุฏุฏุฉ
bool begin();                       // ESP8266 ูุน SoftwareSerial
void end();                         // ุฅููุงู ุนูู ุงูุฑุงุฏุงุฑ
```

#### ุงูุชูููู
```cpp
void setConfig(const RD03Config& config);
RD03Config getConfig() const;
void setRange(float minRange, float maxRange);
void setSensitivity(uint8_t sensitivity);  // 1-5
void setHoldTime(uint16_t seconds);
```

#### ุงูุชุญูู
```cpp
void setControlMode(RD03ControlMode mode);
void manualLightControl(bool turnOn);
void resetPresence();
```

#### ุงูุญุงูุฉ ูุงููุนูููุงุช
```cpp
RD03PresenceState getPresenceState() const;
float getDistance() const;
RD03Status getStatus() const;
bool isOperational() const;
uint32_t getUptime() const;
uint32_t getLastActivityTime() const;
```

#### ุงูุงุณุชุฏุนุงุกุงุช
```cpp
void onPresenceChange(PresenceCallback callback);
void onStatusChange(StatusCallback callback);
void onDistanceMeasurement(DistanceCallback callback);
void onLightControl(LightControlCallback callback);
```

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู

### ูุธุงู ุฃุชูุชุฉ ุงูุญูุงู
```cpp
#include <RD03Radar.h>

RD03Config bathroomConfig = {
    .minRange = 30.0f,
    .maxRange = 400.0f,
    .sensitivity = 4,
    .holdTime = 45,
    .maxAbsenceTime = 180
};

RD03Radar radar(Serial2, bathroomConfig);

const int LIGHT_RELAY_PIN = 19;
const int MANUAL_SWITCH_PIN = 18;

void setup() {
    pinMode(LIGHT_RELAY_PIN, OUTPUT);
    pinMode(MANUAL_SWITCH_PIN, INPUT_PULLUP);

    radar.onLightControl([](bool turnOn, const char* reason) {
        digitalWrite(LIGHT_RELAY_PIN, turnOn ? HIGH : LOW);
        Serial.printf("ุงูุถูุก %s: %s\n", turnOn ? "ุชุดุบูู" : "ุฅููุงู", reason);
    });

    radar.begin(16, 17);
}

void loop() {
    if (digitalRead(MANUAL_SWITCH_PIN) == LOW) {
        radar.setControlMode(RD03ControlMode::MANUAL_ON);
    } else {
        radar.setControlMode(RD03ControlMode::AUTOMATIC);
    }
    radar.loop();
}
```

---

## ๐ง ุฏููู ุงูุชูููู

### ุฅุนุฏุงุฏุงุช ูุทุงู ุงููุดู
```cpp
// ุบุฑูุฉ ุตุบูุฑุฉ (ููุชุจ/ุญูุงู)
radarConfig.minRange = 20.0f;
radarConfig.maxRange = 300.0f;

// ุบุฑูุฉ ูุจูุฑุฉ (ุตุงูุฉ)
radarConfig.minRange = 50.0f;
radarConfig.maxRange = 600.0f;

// ุชุทุจูู ุฃููู (ููุทูุฉ ูุงุณุนุฉ)
radarConfig.minRange = 100.0f;
radarConfig.maxRange = 800.0f;
```

### ูุณุชููุงุช ุงูุญุณุงุณูุฉ
| ุงููุณุชูู | ุงููุตู | ุญุงูุฉ ุงูุงุณุชุฎุฏุงู |
|---------|--------|----------------|
| 1 | ุงูุฃูุซุฑ ุญุณุงุณูุฉ | ุจูุฆุงุช ูุงุฏุฆุฉ |
| 2 | ุญุณุงุณ ุฌุฏุงู | ุงูุงุณุชุฎุฏุงู ุงูููุฒูู ุงูุนุงุฏู |
| 3 | ูุชูุงุฒู | ุงูุฅุนุฏุงุฏ ุงูุงูุชุฑุงุถู |
| 4 | ุฃูู ุญุณุงุณูุฉ | ุจูุฆุงุช ุตุงุฎุจุฉ |
| 5 | ุงูุฃูู ุญุณุงุณูุฉ | ููุงุทู ุตูุงุนูุฉ |

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดุงูู ุงูุดุงุฆุนุฉ

#### "ูุดู ูู ุชููุฆุฉ ุงูุฑุงุฏุงุฑ"
- ุชุญูู ูู ุงุชุตุงูุงุช UART (TXโRX ูุนููุณุฉ)
- ุชุญูู ูู ูุตุฏุฑ ุงูุทุงูุฉ (5V ูุณุชูุฑ)
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ูุนุฏู ุงูุจุงูุฏ

#### "ูุง ูุดู ุญุถูุฑ"
- ุงุถุจุท ูุทุงู ุงููุดู (minRange/maxRange)
- ุชุญูู ูู ุฎุท ุงูุจุตุฑ (ูุง ุนูุงุฆู)
- ููู ุงูุญุณุงุณูุฉ ุฅุฐุง ูุงูุช ุงูุจูุฆุฉ ุตุงุฎุจุฉ

#### "ุชุดุบูู ุฎุงุทุฆ"
- ุฒุฏ minRange ูุชุตููุฉ ุงูุฃุฌุณุงู ุงููุฑูุจุฉ
- ุงุถุจุท motionThreshold
- ุชุญูู ูู ูุตุงุฏุฑ ุงูุชุฏุงุฎู

#### "ุงูุถูุก ููุทูุฆ ุจุณุฑุนุฉ ุฌุฏุงู"
- ุฒุฏ ูุณุชูู ุงูุญุณุงุณูุฉ
- ุงุถุจุท holdTime
- ุชุญูู ูู ุฅุนุฏุงุฏ maxAbsenceTime

---

## ๐ ููุงุตูุงุช ุงูุฃุฏุงุก

- **ุงุณุชููุงู ุงูุทุงูุฉ**: 0.5-1W (ุงูุฑุงุฏุงุฑ ููุท)
- **ูุทุงู ุงููุดู**: 20ุณู - 600ุณู (ูุงุจู ููุชูููู)
- **ูุนุฏู ุงูุชุญุฏูุซ**: 30-45ms ููู ุฏูุฑุฉ
- **ูุนุฏู ุจุงูุฏ UART**: 115200 bps
- **ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ**: ~2KB RAM + ~15KB Flash
- **ุงูููุตุงุช ุงููุฏุนููุฉ**: ESP32ุ ESP8266ุ Arduino Mega/Uno

---

## ๐ค ุงููุณุงููุฉ

ุงููุณุงููุงุช ูุฑุญุจ ุจูุง! ูุฑุฌู ุฅุฑุณุงู Pull Request.

### ุฅุฑุดุงุฏุงุช ุงูุชุทููุฑ
1. ุงุชุจุน ูุนุงููุฑ ูุชุงุจุฉ ููุฏ Arduino
2. ุฃุถู ุชูุซูู ุดุงูู
3. ุงุฎุชุจุฑ ุนูู ููุตุงุช ูุชุนุฏุฏุฉ
4. ุญุฏุซ ุงูุฃูุซูุฉ ุนูุฏ ุฅุถุงูุฉ ููุฒุงุช
5. ุญุงูุธ ุนูู ุงูุชูุงูู ุงูุนูุณู

---

## ๐ ุงูุชุฑุฎูุต

ูุฐู ุงูููุชุจุฉ ูุฑุฎุตุฉ ุชุญุช ุฑุฎุตุฉ MIT - ุฑุงุฌุน ููู LICENSE ููุชูุงุตูู.

---

## ๐ ุงูุดูุฑ

- **Ai-Thinker** ูุญุณุงุณ ุงูุฑุงุฏุงุฑ ุงูุฑุฎูุต
- **ูุฌุชูุน ESPHome** ููุฅููุงู ูุงูุงุฎุชุจุงุฑ
- **ูุฌุชูุน Arduino** ููููุตุฉ ุงูุฑุงุฆุนุฉ

---

## ๐ ุงูุฏุนู

- **GitHub Issues**: ููุฅุจูุงุบ ุนู ุงูุฃุฎุทุงุก ูุทูุจุงุช ุงูููุฒุงุช
- **ุงูุชูุซูู**: ุชุญูู ูู README ูุงูุฃูุซูุฉ ุฃููุงู
- **ุงููุฌุชูุน**: ููุชุฏูุงุช Arduino ููุฌุชูุนุงุช ESP32

---

**ุตูุน ุจู โค๏ธ ุจูุงุณุทุฉ ูุญูุฏ ุนูุฏ (gomgom-40)**

*ุชุญููู ุญุณุงุณุงุช ุงูุฑุงุฏุงุฑ ุงูุฑุฎูุตุฉ ุฅูู ุญููู ุฐููุฉ*

---

**โญ ุฃุถู ูุฌูุฉ ููุฐุง ุงููุณุชูุฏุน ุฅุฐุง ูุฌุฏุชู ูููุฏุงู!**
